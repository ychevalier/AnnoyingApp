package edu.hci.notiftest;

import android.app.Service;
import android.content.Context;
import android.content.Intent;
import android.os.IBinder;
import android.os.PowerManager;
import android.os.SystemClock;
import android.util.Log;

public class MyAwesomeService extends Service {

	@Override
	public int onStartCommand(Intent intent, int flags, int startId) {

		Log.i("thing", "the new service is launched!");

		PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);
		PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.SCREEN_DIM_WAKE_LOCK, "My Tag");
		pm.isScreenOn();
		
		Intent intent1 = new Intent(this, AnnoyingActivity.class);
		
		// This is highly deprectated...
		//intent1.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_MULTIPLE_TASK);
		
		// This works only after api 11...
		intent1.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
		startActivity(intent1);

		return Service.START_NOT_STICKY;
	}

	@Override
	public IBinder onBind(Intent arg0) {

		// Intent newActivity = new Intent(this, AnnoyingActivity.class);
		// startActivity(newActivity);

		return null;
	}

}
