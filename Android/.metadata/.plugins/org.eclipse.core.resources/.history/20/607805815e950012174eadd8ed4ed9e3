package edu.hci.notiftest;

import java.util.Calendar;

import com.nostra13.universalimageloader.core.ImageLoader;
import com.nostra13.universalimageloader.core.ImageLoaderConfiguration;

import android.app.AlarmManager;
import android.app.Application;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.util.Log;

public class TestApplication extends Application {
	
	@Override
	public void onCreate() {
		super.onCreate();

Calendar cal = Calendar.getInstance();
		
		Intent myBackgroundService = new Intent(this, MyAwesomeService.class);
		
		// A service can be stop by the system, so we need to schedule it...
		PendingIntent pintent = PendingIntent.getService(this, 0, myBackgroundService, 0);
		AlarmManager alarm = (AlarmManager)getSystemService(Context.ALARM_SERVICE);
		// Start every DIALOG_TIME seconds.
		alarm.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(), 10*1000, pintent);
		
		
		Log.i("thing", "Starting a new service");
		startService(myBackgroundService);
	}

}
